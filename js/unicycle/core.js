// Compiled by ClojureScript 1.9.456 {}
goog.provide('unicycle.core');
goog.require('cljs.core');
goog.require('cljs.spec');
goog.require('common.math');
goog.require('clojure.core.matrix');
goog.require('clojure.core.matrix.operators');
cljs.spec.def_impl.call(null,new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994),cljs.core.list(new cljs.core.Symbol("cljs.spec","and","cljs.spec/and",-7296553,null),new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null),new cljs.core.Symbol("cljs.core","pos?","cljs.core/pos?",-652182749,null)),cljs.spec.and_spec_impl.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null),new cljs.core.Symbol("cljs.core","pos?","cljs.core/pos?",-652182749,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.number_QMARK_,cljs.core.pos_QMARK_], null),null));
cljs.spec.def_impl.call(null,new cljs.core.Keyword("unicycle.core","k\u03C1","unicycle.core/k\u03C1",823415815),new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994),new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994));
cljs.spec.def_impl.call(null,new cljs.core.Keyword("unicycle.core","k\u03D5","unicycle.core/k\u03D5",-136213343),new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994),new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994));
cljs.spec.def_impl.call(null,new cljs.core.Keyword("unicycle.core","\u03F5","unicycle.core/\u03F5",-1404844250),new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994),new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994));
if(typeof unicycle.core.wheels !== 'undefined'){
} else {
unicycle.core.wheels = (function (){var method_table__21706__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
var prefer_table__21707__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
var method_cache__21708__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
var cached_hierarchy__21709__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
var hierarchy__21710__auto__ = cljs.core.get.call(null,cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"hierarchy","hierarchy",-1053470341),cljs.core.get_global_hierarchy.call(null));
return (new cljs.core.MultiFn(cljs.core.symbol.call(null,"unicycle.core","wheels"),cljs.core.first,new cljs.core.Keyword(null,"default","default",-1987822328),hierarchy__21710__auto__,method_table__21706__auto__,prefer_table__21707__auto__,method_cache__21708__auto__,cached_hierarchy__21709__auto__));
})();
}
cljs.core._add_method.call(null,unicycle.core.wheels,new cljs.core.Keyword(null,"uni","uni",-1194876440),(function (_){
return cljs.spec.tuple_impl.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"uni","uni",-1194876440),null], null), null),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [(0),null,0.0,null], null), null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"uni","uni",-1194876440),null], null), null),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [(0),null,0.0,null], null), null)], null));
}));
cljs.core._add_method.call(null,unicycle.core.wheels,new cljs.core.Keyword(null,"dff","dff",-1904902866),(function (_){
return cljs.spec.tuple_impl.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"dff","dff",-1904902866),null], null), null),cljs.core.list(new cljs.core.Symbol("cljs.spec","cat","cljs.spec/cat",850003863,null),new cljs.core.Keyword(null,"base","base",185279322),new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994),new cljs.core.Keyword(null,"diam","diam",-501455045),new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"dff","dff",-1904902866),null], null), null),cljs.spec.cat_impl.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"base","base",185279322),new cljs.core.Keyword(null,"diam","diam",-501455045)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994),new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994),new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994)], null))], null));
}));
cljs.core._add_method.call(null,unicycle.core.wheels,new cljs.core.Keyword(null,"car","car",-1555651612),(function (_){
return cljs.spec.tuple_impl.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"car","car",-1555651612),null], null), null),new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994),new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"car","car",-1555651612),null], null), null),new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994),cljs.core.number_QMARK_], null));
}));
cljs.spec.def_impl.call(null,new cljs.core.Keyword("unicycle.core","pos","unicycle.core/pos",-413082751),cljs.core.list(new cljs.core.Symbol("cljs.spec","cat","cljs.spec/cat",850003863,null),new cljs.core.Keyword(null,"x","x",2099068185),new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null),new cljs.core.Keyword(null,"y","y",-1757859776),new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null),new cljs.core.Keyword(null,"z","z",-789527183),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [1.0,null,(1),null], null), null)),cljs.spec.cat_impl.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"x","x",2099068185),new cljs.core.Keyword(null,"y","y",-1757859776),new cljs.core.Keyword(null,"z","z",-789527183)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.number_QMARK_,cljs.core.number_QMARK_,new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [1.0,null,(1),null], null), null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null),new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [1.0,null,(1),null], null), null)], null)));
cljs.spec.def_impl.call(null,new cljs.core.Keyword("unicycle.core","yaw","unicycle.core/yaw",-1945893484),new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null),cljs.core.number_QMARK_);
cljs.spec.def_impl.call(null,new cljs.core.Keyword("unicycle.core","geom","unicycle.core/geom",1793324522),cljs.core.list(new cljs.core.Symbol("cljs.spec","cat","cljs.spec/cat",850003863,null),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Symbol("cljs.core","ident?","cljs.core/ident?",1567441535,null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.Symbol("cljs.core","any?","cljs.core/any?",-2068111842,null),new cljs.core.Keyword(null,"angle","angle",1622094254),cljs.core.list(new cljs.core.Symbol("cljs.spec","?","cljs.spec/?",-1542560017,null),new cljs.core.Symbol("cljs.core","any?","cljs.core/any?",-2068111842,null))),cljs.spec.cat_impl.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.Keyword(null,"angle","angle",1622094254)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.ident_QMARK_,cljs.core.any_QMARK_,cljs.spec.maybe_impl.call(null,cljs.core.any_QMARK_,new cljs.core.Symbol(null,"any?","any?",-318999933,null))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol("cljs.core","ident?","cljs.core/ident?",1567441535,null),new cljs.core.Symbol("cljs.core","any?","cljs.core/any?",-2068111842,null),cljs.core.list(new cljs.core.Symbol("cljs.spec","?","cljs.spec/?",-1542560017,null),new cljs.core.Symbol("cljs.core","any?","cljs.core/any?",-2068111842,null))], null)));
cljs.spec.def_impl.call(null,new cljs.core.Keyword("unicycle.core","wheels","unicycle.core/wheels",-2078719460),cljs.core.list(new cljs.core.Symbol("cljs.spec","and","cljs.spec/and",-7296553,null),cljs.core.list(new cljs.core.Symbol("cljs.spec","multi-spec","cljs.spec/multi-spec",-2053297814,null),new cljs.core.Symbol("unicycle.core","wheels","unicycle.core/wheels",-438187933,null),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"v","v",1661996586,null),new cljs.core.Symbol(null,"_","_",-1201019570,null)], null),new cljs.core.Symbol(null,"v","v",1661996586,null))),new cljs.core.Keyword("unicycle.core","geom","unicycle.core/geom",1793324522)),cljs.spec.and_spec_impl.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol("cljs.spec","multi-spec","cljs.spec/multi-spec",-2053297814,null),new cljs.core.Symbol("unicycle.core","wheels","unicycle.core/wheels",-438187933,null),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"v","v",1661996586,null),new cljs.core.Symbol(null,"_","_",-1201019570,null)], null),new cljs.core.Symbol(null,"v","v",1661996586,null))),new cljs.core.Keyword("unicycle.core","geom","unicycle.core/geom",1793324522)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.spec.multi_spec_impl.call(null,new cljs.core.Symbol("unicycle.core","wheels","unicycle.core/wheels",-438187933,null),new cljs.core.Var(function(){return unicycle.core.wheels;},new cljs.core.Symbol("unicycle.core","wheels","unicycle.core/wheels",-438187933,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[new cljs.core.Symbol(null,"unicycle.core","unicycle.core",-1112096743,null),new cljs.core.Symbol(null,"wheels","wheels",-1897957388,null),"/home/pedro/GitHub/unicycle/src/unicycle/core.cljc",17,1,13,13,cljs.core.List.EMPTY,null,(cljs.core.truth_(unicycle.core.wheels)?unicycle.core.wheels.cljs$lang$test:null)])),(function (v,_){
return v;
})),new cljs.core.Keyword("unicycle.core","geom","unicycle.core/geom",1793324522)], null),null));
cljs.spec.def_impl.call(null,new cljs.core.Keyword("unicycle.core","engine","unicycle.core/engine",-237101208),cljs.core.list(new cljs.core.Symbol("cljs.spec","tuple","cljs.spec/tuple",500419708,null),new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994),new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994)),cljs.spec.tuple_impl.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994),new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994),new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994)], null)));
cljs.spec.def_impl.call(null,new cljs.core.Keyword("unicycle.core","params","unicycle.core/params",1200846692),cljs.core.list(new cljs.core.Symbol("cljs.spec","keys","cljs.spec/keys",-927379584,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("unicycle.core","k\u03C1","unicycle.core/k\u03C1",823415815),new cljs.core.Keyword("unicycle.core","k\u03D5","unicycle.core/k\u03D5",-136213343),new cljs.core.Keyword("unicycle.core","\u03F5","unicycle.core/\u03F5",-1404844250)], null)),cljs.spec.map_spec_impl.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.Keyword(null,"opt-un","opt-un",883442496),new cljs.core.Keyword(null,"gfn","gfn",791517474),new cljs.core.Keyword(null,"pred-exprs","pred-exprs",1792271395),new cljs.core.Keyword(null,"keys-pred","keys-pred",858984739),new cljs.core.Keyword(null,"opt-keys","opt-keys",1262688261),new cljs.core.Keyword(null,"req-specs","req-specs",553962313),new cljs.core.Keyword(null,"req","req",-326448303),new cljs.core.Keyword(null,"req-keys","req-keys",514319221),new cljs.core.Keyword(null,"opt-specs","opt-specs",-384905450),new cljs.core.Keyword(null,"pred-forms","pred-forms",172611832),new cljs.core.Keyword(null,"opt","opt",-794706369)],[new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("unicycle.core","k\u03C1","unicycle.core/k\u03C1",823415815),new cljs.core.Keyword("unicycle.core","k\u03D5","unicycle.core/k\u03D5",-136213343),new cljs.core.Keyword("unicycle.core","\u03F5","unicycle.core/\u03F5",-1404844250)], null),null,null,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [(function (G__49920){
return cljs.core.map_QMARK_.call(null,G__49920);
}),(function (G__49920){
return cljs.core.contains_QMARK_.call(null,G__49920,new cljs.core.Keyword(null,"k\u03C1","k\u03C1",761199456));
}),(function (G__49920){
return cljs.core.contains_QMARK_.call(null,G__49920,new cljs.core.Keyword(null,"k\u03D5","k\u03D5",1122837548));
}),(function (G__49920){
return cljs.core.contains_QMARK_.call(null,G__49920,new cljs.core.Keyword(null,"\u03F5","\u03F5",170557309));
})], null),(function (G__49920){
return (cljs.core.map_QMARK_.call(null,G__49920)) && (cljs.core.contains_QMARK_.call(null,G__49920,new cljs.core.Keyword(null,"k\u03C1","k\u03C1",761199456))) && (cljs.core.contains_QMARK_.call(null,G__49920,new cljs.core.Keyword(null,"k\u03D5","k\u03D5",1122837548))) && (cljs.core.contains_QMARK_.call(null,G__49920,new cljs.core.Keyword(null,"\u03F5","\u03F5",170557309)));
}),cljs.core.PersistentVector.EMPTY,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("unicycle.core","k\u03C1","unicycle.core/k\u03C1",823415815),new cljs.core.Keyword("unicycle.core","k\u03D5","unicycle.core/k\u03D5",-136213343),new cljs.core.Keyword("unicycle.core","\u03F5","unicycle.core/\u03F5",-1404844250)], null),null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"k\u03C1","k\u03C1",761199456),new cljs.core.Keyword(null,"k\u03D5","k\u03D5",1122837548),new cljs.core.Keyword(null,"\u03F5","\u03F5",170557309)], null),cljs.core.PersistentVector.EMPTY,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","map?","cljs.core/map?",-1390345523,null),new cljs.core.Symbol(null,"%","%",-950237169,null))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"k\u03C1","k\u03C1",761199456))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"k\u03D5","k\u03D5",1122837548))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"\u03F5","\u03F5",170557309)))], null),null])));
cljs.spec.def_impl.call(null,new cljs.core.Keyword("unicycle.core","body","unicycle.core/body",1626002310),cljs.core.list(new cljs.core.Symbol("cljs.spec","keys","cljs.spec/keys",-927379584,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("unicycle.core","pos","unicycle.core/pos",-413082751),new cljs.core.Keyword("unicycle.core","yaw","unicycle.core/yaw",-1945893484)], null)),cljs.spec.map_spec_impl.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.Keyword(null,"opt-un","opt-un",883442496),new cljs.core.Keyword(null,"gfn","gfn",791517474),new cljs.core.Keyword(null,"pred-exprs","pred-exprs",1792271395),new cljs.core.Keyword(null,"keys-pred","keys-pred",858984739),new cljs.core.Keyword(null,"opt-keys","opt-keys",1262688261),new cljs.core.Keyword(null,"req-specs","req-specs",553962313),new cljs.core.Keyword(null,"req","req",-326448303),new cljs.core.Keyword(null,"req-keys","req-keys",514319221),new cljs.core.Keyword(null,"opt-specs","opt-specs",-384905450),new cljs.core.Keyword(null,"pred-forms","pred-forms",172611832),new cljs.core.Keyword(null,"opt","opt",-794706369)],[new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("unicycle.core","pos","unicycle.core/pos",-413082751),new cljs.core.Keyword("unicycle.core","yaw","unicycle.core/yaw",-1945893484)], null),null,null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [(function (G__49921){
return cljs.core.map_QMARK_.call(null,G__49921);
}),(function (G__49921){
return cljs.core.contains_QMARK_.call(null,G__49921,new cljs.core.Keyword(null,"pos","pos",-864607220));
}),(function (G__49921){
return cljs.core.contains_QMARK_.call(null,G__49921,new cljs.core.Keyword(null,"yaw","yaw",-1791898389));
})], null),(function (G__49921){
return (cljs.core.map_QMARK_.call(null,G__49921)) && (cljs.core.contains_QMARK_.call(null,G__49921,new cljs.core.Keyword(null,"pos","pos",-864607220))) && (cljs.core.contains_QMARK_.call(null,G__49921,new cljs.core.Keyword(null,"yaw","yaw",-1791898389)));
}),cljs.core.PersistentVector.EMPTY,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("unicycle.core","pos","unicycle.core/pos",-413082751),new cljs.core.Keyword("unicycle.core","yaw","unicycle.core/yaw",-1945893484)], null),null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.Keyword(null,"yaw","yaw",-1791898389)], null),cljs.core.PersistentVector.EMPTY,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","map?","cljs.core/map?",-1390345523,null),new cljs.core.Symbol(null,"%","%",-950237169,null))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"pos","pos",-864607220))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"yaw","yaw",-1791898389)))], null),null])));
cljs.spec.def_impl.call(null,new cljs.core.Keyword("unicycle.core","cycle","unicycle.core/cycle",1161266937),cljs.core.list(new cljs.core.Symbol("cljs.spec","keys","cljs.spec/keys",-927379584,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("unicycle.core","wheels","unicycle.core/wheels",-2078719460),new cljs.core.Keyword("unicycle.core","engine","unicycle.core/engine",-237101208)], null)),cljs.spec.map_spec_impl.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.Keyword(null,"opt-un","opt-un",883442496),new cljs.core.Keyword(null,"gfn","gfn",791517474),new cljs.core.Keyword(null,"pred-exprs","pred-exprs",1792271395),new cljs.core.Keyword(null,"keys-pred","keys-pred",858984739),new cljs.core.Keyword(null,"opt-keys","opt-keys",1262688261),new cljs.core.Keyword(null,"req-specs","req-specs",553962313),new cljs.core.Keyword(null,"req","req",-326448303),new cljs.core.Keyword(null,"req-keys","req-keys",514319221),new cljs.core.Keyword(null,"opt-specs","opt-specs",-384905450),new cljs.core.Keyword(null,"pred-forms","pred-forms",172611832),new cljs.core.Keyword(null,"opt","opt",-794706369)],[new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("unicycle.core","wheels","unicycle.core/wheels",-2078719460),new cljs.core.Keyword("unicycle.core","engine","unicycle.core/engine",-237101208)], null),null,null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [(function (G__49922){
return cljs.core.map_QMARK_.call(null,G__49922);
}),(function (G__49922){
return cljs.core.contains_QMARK_.call(null,G__49922,new cljs.core.Keyword(null,"wheels","wheels",756478381));
}),(function (G__49922){
return cljs.core.contains_QMARK_.call(null,G__49922,new cljs.core.Keyword(null,"engine","engine",1459054265));
})], null),(function (G__49922){
return (cljs.core.map_QMARK_.call(null,G__49922)) && (cljs.core.contains_QMARK_.call(null,G__49922,new cljs.core.Keyword(null,"wheels","wheels",756478381))) && (cljs.core.contains_QMARK_.call(null,G__49922,new cljs.core.Keyword(null,"engine","engine",1459054265)));
}),cljs.core.PersistentVector.EMPTY,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("unicycle.core","wheels","unicycle.core/wheels",-2078719460),new cljs.core.Keyword("unicycle.core","engine","unicycle.core/engine",-237101208)], null),null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"wheels","wheels",756478381),new cljs.core.Keyword(null,"engine","engine",1459054265)], null),cljs.core.PersistentVector.EMPTY,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","map?","cljs.core/map?",-1390345523,null),new cljs.core.Symbol(null,"%","%",-950237169,null))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"wheels","wheels",756478381))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"engine","engine",1459054265)))], null),null])));
cljs.spec.def_impl.call(null,new cljs.core.Keyword("unicycle.core","auto","unicycle.core/auto",-613422235),cljs.core.list(new cljs.core.Symbol("cljs.spec","merge","cljs.spec/merge",-838422687,null),new cljs.core.Keyword("unicycle.core","body","unicycle.core/body",1626002310),new cljs.core.Keyword("unicycle.core","cycle","unicycle.core/cycle",1161266937),new cljs.core.Keyword("unicycle.core","params","unicycle.core/params",1200846692)),cljs.spec.merge_spec_impl.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("unicycle.core","body","unicycle.core/body",1626002310),new cljs.core.Keyword("unicycle.core","cycle","unicycle.core/cycle",1161266937),new cljs.core.Keyword("unicycle.core","params","unicycle.core/params",1200846692)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("unicycle.core","body","unicycle.core/body",1626002310),new cljs.core.Keyword("unicycle.core","cycle","unicycle.core/cycle",1161266937),new cljs.core.Keyword("unicycle.core","params","unicycle.core/params",1200846692)], null),null));
cljs.spec.def_impl.call(null,new cljs.core.Keyword("unicycle.core","task","unicycle.core/task",186058910),cljs.core.list(new cljs.core.Symbol("cljs.spec","cat","cljs.spec/cat",850003863,null),new cljs.core.Keyword(null,"cmd","cmd",-302931143),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"circle","circle",1903212362),null,new cljs.core.Keyword(null,"avoid","avoid",-1564529805),null,new cljs.core.Keyword(null,"goto","goto",80149757),null], null), null),new cljs.core.Keyword(null,"\u03C1","\u03C1",238406644),new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994),new cljs.core.Keyword(null,"\u03D5","\u03D5",-870921879),new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null)),cljs.spec.cat_impl.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cmd","cmd",-302931143),new cljs.core.Keyword(null,"\u03C1","\u03C1",238406644),new cljs.core.Keyword(null,"\u03D5","\u03D5",-870921879)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"circle","circle",1903212362),null,new cljs.core.Keyword(null,"avoid","avoid",-1564529805),null,new cljs.core.Keyword(null,"goto","goto",80149757),null], null), null),new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994),cljs.core.number_QMARK_], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"circle","circle",1903212362),null,new cljs.core.Keyword(null,"avoid","avoid",-1564529805),null,new cljs.core.Keyword(null,"goto","goto",80149757),null], null), null),new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994),new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null)], null)));
cljs.spec.def_impl.call(null,new cljs.core.Keyword("unicycle.core","uni","unicycle.core/uni",468119805),cljs.core.list(new cljs.core.Symbol("cljs.spec","cat","cljs.spec/cat",850003863,null),new cljs.core.Keyword(null,"v","v",21465059),new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null),new cljs.core.Keyword(null,"w","w",354169001),new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null)),cljs.spec.cat_impl.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"v","v",21465059),new cljs.core.Keyword(null,"w","w",354169001)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.number_QMARK_,cljs.core.number_QMARK_], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null),new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null)], null)));
cljs.spec.def_impl.call(null,new cljs.core.Keyword("unicycle.core","dff","unicycle.core/dff",1929475493),cljs.core.list(new cljs.core.Symbol("cljs.spec","cat","cljs.spec/cat",850003863,null),new cljs.core.Keyword(null,"r","r",-471384190),new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null),new cljs.core.Keyword(null,"l","l",1395893423),new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null)),cljs.spec.cat_impl.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"r","r",-471384190),new cljs.core.Keyword(null,"l","l",1395893423)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.number_QMARK_,cljs.core.number_QMARK_], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null),new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null)], null)));
cljs.spec.def_impl.call(null,new cljs.core.Keyword("unicycle.core","car","unicycle.core/car",-2144871173),cljs.core.list(new cljs.core.Symbol("cljs.spec","cat","cljs.spec/cat",850003863,null),new cljs.core.Keyword(null,"v","v",21465059),new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null),new cljs.core.Keyword(null,"s","s",1705939918),new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null)),cljs.spec.cat_impl.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"v","v",21465059),new cljs.core.Keyword(null,"s","s",1705939918)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.number_QMARK_,cljs.core.number_QMARK_], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null),new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null)], null)));
unicycle.core.auto_scale = (function unicycle$core$auto_scale(to,auto){
return cljs.core.update.call(null,cljs.core.update.call(null,cljs.core.update_in.call(null,auto,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"wheels","wheels",756478381),(1)], null),clojure.core.matrix.operators._STAR_,to),new cljs.core.Keyword(null,"pos","pos",-864607220),clojure.core.matrix.mmul,common.math.scale.call(null,to)),new cljs.core.Keyword(null,"\u03F5","\u03F5",170557309),clojure.core.matrix.operators._STAR_,to);
});
cljs.spec.def_impl.call(null,new cljs.core.Symbol("unicycle.core","auto-scale","unicycle.core/auto-scale",-2007901202,null),cljs.core.list(new cljs.core.Symbol("cljs.spec","fspec","cljs.spec/fspec",982220571,null),new cljs.core.Keyword(null,"args","args",1315556576),cljs.core.list(new cljs.core.Symbol("cljs.spec","cat","cljs.spec/cat",850003863,null),new cljs.core.Keyword(null,"scaling","scaling",2072718421),new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994),new cljs.core.Keyword(null,"to-scale","to-scale",-2146758824),new cljs.core.Keyword("unicycle.core","auto","unicycle.core/auto",-613422235)),new cljs.core.Keyword(null,"ret","ret",-468222814),new cljs.core.Keyword("unicycle.core","auto","unicycle.core/auto",-613422235)),cljs.spec.fspec_impl.call(null,cljs.spec.spec_impl.call(null,cljs.core.list(new cljs.core.Symbol("cljs.spec","cat","cljs.spec/cat",850003863,null),new cljs.core.Keyword(null,"scaling","scaling",2072718421),new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994),new cljs.core.Keyword(null,"to-scale","to-scale",-2146758824),new cljs.core.Keyword("unicycle.core","auto","unicycle.core/auto",-613422235)),cljs.spec.cat_impl.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"scaling","scaling",2072718421),new cljs.core.Keyword(null,"to-scale","to-scale",-2146758824)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994),new cljs.core.Keyword("unicycle.core","auto","unicycle.core/auto",-613422235)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994),new cljs.core.Keyword("unicycle.core","auto","unicycle.core/auto",-613422235)], null)),null,null),cljs.core.list(new cljs.core.Symbol("cljs.spec","cat","cljs.spec/cat",850003863,null),new cljs.core.Keyword(null,"scaling","scaling",2072718421),new cljs.core.Keyword("unicycle.core","+","unicycle.core/+",1427357994),new cljs.core.Keyword(null,"to-scale","to-scale",-2146758824),new cljs.core.Keyword("unicycle.core","auto","unicycle.core/auto",-613422235)),cljs.spec.spec_impl.call(null,new cljs.core.Keyword("unicycle.core","auto","unicycle.core/auto",-613422235),new cljs.core.Keyword("unicycle.core","auto","unicycle.core/auto",-613422235),null,null),new cljs.core.Keyword("unicycle.core","auto","unicycle.core/auto",-613422235),null,null,null));
unicycle.core.uni__GT_dff = (function unicycle$core$uni__GT_dff(p__49923){
var vec__49927 = p__49923;
var b = cljs.core.nth.call(null,vec__49927,(0),null);
var d = cljs.core.nth.call(null,vec__49927,(1),null);
return clojure.core.matrix.operators._STAR_.call(null,common.math.rad_COLON_s__GT_rpm,clojure.core.matrix.operators._SLASH_.call(null,d),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(2),b], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(2),clojure.core.matrix.operators._.call(null,b)], null)], null));
});
unicycle.core.dff__GT_uni = (function unicycle$core$dff__GT_uni(p__49930){
var vec__49934 = p__49930;
var b = cljs.core.nth.call(null,vec__49934,(0),null);
var d = cljs.core.nth.call(null,vec__49934,(1),null);
return clojure.core.matrix.operators._SLASH_.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [0.25,0.25], null),clojure.core.matrix.operators._SLASH_.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [0.5,-0.5], null),b)], null),common.math.rad_COLON_s__GT_rpm,clojure.core.matrix.operators._SLASH_.call(null,d));
});
unicycle.core.uni_plan = (function unicycle$core$uni_plan(p__49937,p__49938){
var map__49946 = p__49937;
var map__49946__$1 = ((((!((map__49946 == null)))?((((map__49946.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__49946.cljs$core$ISeq$)))?true:false):false))?cljs.core.apply.call(null,cljs.core.hash_map,map__49946):map__49946);
var kρ = cljs.core.get.call(null,map__49946__$1,new cljs.core.Keyword(null,"k\u03C1","k\u03C1",761199456));
var kϕ = cljs.core.get.call(null,map__49946__$1,new cljs.core.Keyword(null,"k\u03D5","k\u03D5",1122837548));
var ϵ = cljs.core.get.call(null,map__49946__$1,new cljs.core.Keyword(null,"\u03F5","\u03F5",170557309));
var vec__49947 = p__49938;
var cmd = cljs.core.nth.call(null,vec__49947,(0),null);
var ρ = cljs.core.nth.call(null,vec__49947,(1),null);
var ϕ = cljs.core.nth.call(null,vec__49947,(2),null);
var D = (((ρ <= ϵ))?(0):(1));
var S = clojure.core.matrix.operators._.call(null,(1),clojure.core.matrix.operators._SLASH_.call(null,Math.abs(ϕ),common.math.π_COLON_2));
var F = ((!((ϕ === (0))))?clojure.core.matrix.signum.call(null,ϕ):(-1));
var υ = (function (){var G__49951 = (((cmd instanceof cljs.core.Keyword))?cmd.fqn:null);
switch (G__49951) {
case "goto":
return clojure.core.matrix.operators._STAR_.call(null,kρ,ρ);

break;
case "avoid":
return clojure.core.matrix.operators._STAR_.call(null,kρ,ρ);

break;
case "circle":
return clojure.core.matrix.operators._STAR_.call(null,kρ,ϵ);

break;
default:
throw (new Error([cljs.core.str.cljs$core$IFn$_invoke$arity$1("No matching clause: "),cljs.core.str.cljs$core$IFn$_invoke$arity$1(cmd)].join('')));

}
})();
var ω = (function (){var G__49952 = (((cmd instanceof cljs.core.Keyword))?cmd.fqn:null);
switch (G__49952) {
case "goto":
return clojure.core.matrix.operators._STAR_.call(null,kϕ,ϕ);

break;
case "avoid":
return clojure.core.matrix.operators._STAR_.call(null,kϕ,clojure.core.matrix.operators._.call(null,ϕ,clojure.core.matrix.operators._STAR_.call(null,common.math.π,F)));

break;
case "circle":
return clojure.core.matrix.operators._.call(null,clojure.core.matrix.operators._STAR_.call(null,D,clojure.core.matrix.operators._SLASH_.call(null,υ,ρ),F),clojure.core.matrix.operators._STAR_.call(null,kϕ,ϕ,S));

break;
default:
throw (new Error([cljs.core.str.cljs$core$IFn$_invoke$arity$1("No matching clause: "),cljs.core.str.cljs$core$IFn$_invoke$arity$1(cmd)].join('')));

}
})();
return new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [υ,ω,D,S,F], null);
});
cljs.spec.def_impl.call(null,new cljs.core.Symbol("unicycle.core","uni-plan","unicycle.core/uni-plan",1221727588,null),cljs.core.list(new cljs.core.Symbol("cljs.spec","fspec","cljs.spec/fspec",982220571,null),new cljs.core.Keyword(null,"args","args",1315556576),cljs.core.list(new cljs.core.Symbol("cljs.spec","cat","cljs.spec/cat",850003863,null),new cljs.core.Keyword(null,"drive-params","drive-params",-1427269524),new cljs.core.Keyword("unicycle.core","params","unicycle.core/params",1200846692),new cljs.core.Keyword(null,"intends","intends",2095527199),cljs.core.list(new cljs.core.Symbol("cljs.spec","spec","cljs.spec/spec",775251713,null),new cljs.core.Keyword("unicycle.core","task","unicycle.core/task",186058910))),new cljs.core.Keyword(null,"ret","ret",-468222814),cljs.core.list(new cljs.core.Symbol("cljs.spec","cat","cljs.spec/cat",850003863,null),new cljs.core.Keyword(null,"actuation","actuation",-777069035),new cljs.core.Keyword("unicycle.core","uni","unicycle.core/uni",468119805),new cljs.core.Keyword(null,"danger?","danger?",181682216),cljs.core.list(new cljs.core.Symbol("cljs.spec","or","cljs.spec/or",1200597689,null),new cljs.core.Keyword(null,"true","true",-1114210334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [(0),null,0.0,null], null), null),new cljs.core.Keyword(null,"false","false",1277713805),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [1.0,null,(1),null], null), null)),new cljs.core.Keyword(null,"side?","side?",2119203384),cljs.core.list(new cljs.core.Symbol("cljs.spec","or","cljs.spec/or",1200597689,null),new cljs.core.Keyword(null,"right","right",-452581833),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [-1.0,null,(-1),null], null), null),new cljs.core.Keyword(null,"left","left",-399115937),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [1.0,null,(1),null], null), null)),new cljs.core.Keyword(null,"ahead?","ahead?",-643351317),cljs.core.list(new cljs.core.Symbol("cljs.spec","double-in","cljs.spec/double-in",-2061023836,null),new cljs.core.Keyword(null,"min","min",444991522),(-1),new cljs.core.Keyword(null,"max","max",61366548),(1)))),cljs.spec.fspec_impl.call(null,cljs.spec.spec_impl.call(null,cljs.core.list(new cljs.core.Symbol("cljs.spec","cat","cljs.spec/cat",850003863,null),new cljs.core.Keyword(null,"drive-params","drive-params",-1427269524),new cljs.core.Keyword("unicycle.core","params","unicycle.core/params",1200846692),new cljs.core.Keyword(null,"intends","intends",2095527199),cljs.core.list(new cljs.core.Symbol("cljs.spec","spec","cljs.spec/spec",775251713,null),new cljs.core.Keyword("unicycle.core","task","unicycle.core/task",186058910))),cljs.spec.cat_impl.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"drive-params","drive-params",-1427269524),new cljs.core.Keyword(null,"intends","intends",2095527199)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("unicycle.core","params","unicycle.core/params",1200846692),cljs.spec.spec_impl.call(null,new cljs.core.Keyword("unicycle.core","task","unicycle.core/task",186058910),new cljs.core.Keyword("unicycle.core","task","unicycle.core/task",186058910),null,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("unicycle.core","params","unicycle.core/params",1200846692),cljs.core.list(new cljs.core.Symbol("cljs.spec","spec","cljs.spec/spec",775251713,null),new cljs.core.Keyword("unicycle.core","task","unicycle.core/task",186058910))], null)),null,null),cljs.core.list(new cljs.core.Symbol("cljs.spec","cat","cljs.spec/cat",850003863,null),new cljs.core.Keyword(null,"drive-params","drive-params",-1427269524),new cljs.core.Keyword("unicycle.core","params","unicycle.core/params",1200846692),new cljs.core.Keyword(null,"intends","intends",2095527199),cljs.core.list(new cljs.core.Symbol("cljs.spec","spec","cljs.spec/spec",775251713,null),new cljs.core.Keyword("unicycle.core","task","unicycle.core/task",186058910))),cljs.spec.spec_impl.call(null,cljs.core.list(new cljs.core.Symbol("cljs.spec","cat","cljs.spec/cat",850003863,null),new cljs.core.Keyword(null,"actuation","actuation",-777069035),new cljs.core.Keyword("unicycle.core","uni","unicycle.core/uni",468119805),new cljs.core.Keyword(null,"danger?","danger?",181682216),cljs.core.list(new cljs.core.Symbol("cljs.spec","or","cljs.spec/or",1200597689,null),new cljs.core.Keyword(null,"true","true",-1114210334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [(0),null,0.0,null], null), null),new cljs.core.Keyword(null,"false","false",1277713805),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [1.0,null,(1),null], null), null)),new cljs.core.Keyword(null,"side?","side?",2119203384),cljs.core.list(new cljs.core.Symbol("cljs.spec","or","cljs.spec/or",1200597689,null),new cljs.core.Keyword(null,"right","right",-452581833),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [-1.0,null,(-1),null], null), null),new cljs.core.Keyword(null,"left","left",-399115937),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [1.0,null,(1),null], null), null)),new cljs.core.Keyword(null,"ahead?","ahead?",-643351317),cljs.core.list(new cljs.core.Symbol("cljs.spec","double-in","cljs.spec/double-in",-2061023836,null),new cljs.core.Keyword(null,"min","min",444991522),(-1),new cljs.core.Keyword(null,"max","max",61366548),(1))),cljs.spec.cat_impl.call(null,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"actuation","actuation",-777069035),new cljs.core.Keyword(null,"danger?","danger?",181682216),new cljs.core.Keyword(null,"side?","side?",2119203384),new cljs.core.Keyword(null,"ahead?","ahead?",-643351317)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("unicycle.core","uni","unicycle.core/uni",468119805),cljs.spec.or_spec_impl.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"true","true",-1114210334),new cljs.core.Keyword(null,"false","false",1277713805)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [(0),null,0.0,null], null), null),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [1.0,null,(1),null], null), null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [(0),null,0.0,null], null), null),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [1.0,null,(1),null], null), null)], null),null),cljs.spec.or_spec_impl.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"right","right",-452581833),new cljs.core.Keyword(null,"left","left",-399115937)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [-1.0,null,(-1),null], null), null),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [1.0,null,(1),null], null), null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [-1.0,null,(-1),null], null), null),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [1.0,null,(1),null], null), null)], null),null),cljs.spec.spec_impl.call(null,cljs.core.list(new cljs.core.Symbol("cljs.spec","and","cljs.spec/and",-7296553,null),new cljs.core.Symbol("cljs.core","double?","cljs.core/double?",1757455529,null),cljs.core.list(new cljs.core.Symbol(null,"fn*","fn*",-752876845,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"p1__25885__25886__auto__","p1__25885__25886__auto__",8964257,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","<=","cljs.core/<=",1677001748,null),new cljs.core.Symbol(null,"p1__25885__25886__auto__","p1__25885__25886__auto__",8964257,null),(1))),cljs.core.list(new cljs.core.Symbol(null,"fn*","fn*",-752876845,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"p1__25887__25888__auto__","p1__25887__25888__auto__",-853805050,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","<=","cljs.core/<=",1677001748,null),(-1),new cljs.core.Symbol(null,"p1__25887__25888__auto__","p1__25887__25888__auto__",-853805050,null)))),cljs.spec.and_spec_impl.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol("cljs.core","double?","cljs.core/double?",1757455529,null),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","<=","cljs.core/<=",1677001748,null),new cljs.core.Symbol(null,"%","%",-950237169,null),(1))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","<=","cljs.core/<=",1677001748,null),(-1),new cljs.core.Symbol(null,"%","%",-950237169,null)))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.double_QMARK_,(function (p1__25885__25886__auto__){
return (p1__25885__25886__auto__ <= (1));
}),(function (p1__25887__25888__auto__){
return ((-1) <= p1__25887__25888__auto__);
})], null),null),(function (){
return cljs.spec.impl.gen.double_STAR_.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"min","min",444991522),(-1),new cljs.core.Keyword(null,"max","max",61366548),(1)], null));
}),null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("unicycle.core","uni","unicycle.core/uni",468119805),cljs.core.list(new cljs.core.Symbol("cljs.spec","or","cljs.spec/or",1200597689,null),new cljs.core.Keyword(null,"true","true",-1114210334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [(0),null,0.0,null], null), null),new cljs.core.Keyword(null,"false","false",1277713805),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [1.0,null,(1),null], null), null)),cljs.core.list(new cljs.core.Symbol("cljs.spec","or","cljs.spec/or",1200597689,null),new cljs.core.Keyword(null,"right","right",-452581833),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [-1.0,null,(-1),null], null), null),new cljs.core.Keyword(null,"left","left",-399115937),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [1.0,null,(1),null], null), null)),cljs.core.list(new cljs.core.Symbol("cljs.spec","double-in","cljs.spec/double-in",-2061023836,null),new cljs.core.Keyword(null,"min","min",444991522),(-1),new cljs.core.Keyword(null,"max","max",61366548),(1))], null)),null,null),cljs.core.list(new cljs.core.Symbol("cljs.spec","cat","cljs.spec/cat",850003863,null),new cljs.core.Keyword(null,"actuation","actuation",-777069035),new cljs.core.Keyword("unicycle.core","uni","unicycle.core/uni",468119805),new cljs.core.Keyword(null,"danger?","danger?",181682216),cljs.core.list(new cljs.core.Symbol("cljs.spec","or","cljs.spec/or",1200597689,null),new cljs.core.Keyword(null,"true","true",-1114210334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [(0),null,0.0,null], null), null),new cljs.core.Keyword(null,"false","false",1277713805),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [1.0,null,(1),null], null), null)),new cljs.core.Keyword(null,"side?","side?",2119203384),cljs.core.list(new cljs.core.Symbol("cljs.spec","or","cljs.spec/or",1200597689,null),new cljs.core.Keyword(null,"right","right",-452581833),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [-1.0,null,(-1),null], null), null),new cljs.core.Keyword(null,"left","left",-399115937),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [1.0,null,(1),null], null), null)),new cljs.core.Keyword(null,"ahead?","ahead?",-643351317),cljs.core.list(new cljs.core.Symbol("cljs.spec","double-in","cljs.spec/double-in",-2061023836,null),new cljs.core.Keyword(null,"min","min",444991522),(-1),new cljs.core.Keyword(null,"max","max",61366548),(1))),null,null,null));
if(typeof unicycle.core.plan !== 'undefined'){
} else {
unicycle.core.plan = (function (){var method_table__21706__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
var prefer_table__21707__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
var method_cache__21708__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
var cached_hierarchy__21709__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
var hierarchy__21710__auto__ = cljs.core.get.call(null,cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"hierarchy","hierarchy",-1053470341),cljs.core.get_global_hierarchy.call(null));
return (new cljs.core.MultiFn(cljs.core.symbol.call(null,"unicycle.core","plan"),((function (method_table__21706__auto__,prefer_table__21707__auto__,method_cache__21708__auto__,cached_hierarchy__21709__auto__,hierarchy__21710__auto__){
return (function (hot,_){
return cljs.core.first.call(null,new cljs.core.Keyword(null,"wheels","wheels",756478381).cljs$core$IFn$_invoke$arity$1(hot));
});})(method_table__21706__auto__,prefer_table__21707__auto__,method_cache__21708__auto__,cached_hierarchy__21709__auto__,hierarchy__21710__auto__))
,new cljs.core.Keyword(null,"default","default",-1987822328),hierarchy__21710__auto__,method_table__21706__auto__,prefer_table__21707__auto__,method_cache__21708__auto__,cached_hierarchy__21709__auto__));
})();
}
cljs.core._add_method.call(null,unicycle.core.plan,new cljs.core.Keyword(null,"uni","uni",-1194876440),(function (auto,task){
return cljs.core.subvec.call(null,unicycle.core.uni_plan.call(null,auto,task),(0),(2));
}));
cljs.core._add_method.call(null,unicycle.core.plan,new cljs.core.Keyword(null,"dff","dff",-1904902866),(function (p__49955,task){
var map__49956 = p__49955;
var map__49956__$1 = ((((!((map__49956 == null)))?((((map__49956.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__49956.cljs$core$ISeq$)))?true:false):false))?cljs.core.apply.call(null,cljs.core.hash_map,map__49956):map__49956);
var it = map__49956__$1;
var kρ = cljs.core.get.call(null,map__49956__$1,new cljs.core.Keyword(null,"k\u03C1","k\u03C1",761199456));
var kϕ = cljs.core.get.call(null,map__49956__$1,new cljs.core.Keyword(null,"k\u03D5","k\u03D5",1122837548));
var ϵ = cljs.core.get.call(null,map__49956__$1,new cljs.core.Keyword(null,"\u03F5","\u03F5",170557309));
var vec__49958 = unicycle.core.uni_plan.call(null,it,task);
var υ_STAR_ = cljs.core.nth.call(null,vec__49958,(0),null);
var ω = cljs.core.nth.call(null,vec__49958,(1),null);
var D_STAR_ = cljs.core.nth.call(null,vec__49958,(2),null);
var S = cljs.core.nth.call(null,vec__49958,(3),null);
var _ = cljs.core.nth.call(null,vec__49958,(4),null);
var D = (function (){var G__49961 = (((cljs.core.first.call(null,task) instanceof cljs.core.Keyword))?cljs.core.first.call(null,task).fqn:null);
switch (G__49961) {
case "goto":
if((S < (0))){
return (0);
} else {
return (1);
}

break;
case "avoid":
if((S > (0))){
return (0);
} else {
return (1);
}

break;
case "circle":
return D_STAR_;

break;
default:
throw (new Error([cljs.core.str.cljs$core$IFn$_invoke$arity$1("No matching clause: "),cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.first.call(null,task))].join('')));

}
})();
var υ = (function (){var G__49962 = (((cljs.core.first.call(null,task) instanceof cljs.core.Keyword))?cljs.core.first.call(null,task).fqn:null);
switch (G__49962) {
case "goto":
return clojure.core.matrix.operators._STAR_.call(null,D,υ_STAR_,S,S);

break;
case "avoid":
return clojure.core.matrix.operators._STAR_.call(null,D,υ_STAR_,S,S);

break;
case "circle":
return υ_STAR_;

break;
default:
throw (new Error([cljs.core.str.cljs$core$IFn$_invoke$arity$1("No matching clause: "),cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.first.call(null,task))].join('')));

}
})();
return clojure.core.matrix.mmul.call(null,unicycle.core.uni__GT_dff.call(null,cljs.core.nth.call(null,new cljs.core.Keyword(null,"wheels","wheels",756478381).cljs$core$IFn$_invoke$arity$1(it),(1))),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [υ,ω], null));
}));
cljs.core._add_method.call(null,unicycle.core.plan,new cljs.core.Keyword(null,"car","car",-1555651612),(function (auto,task){
return cljs.core.subvec.call(null,unicycle.core.uni_plan.call(null,auto,task),(0),(2));
}));
if(typeof unicycle.core.act !== 'undefined'){
} else {
unicycle.core.act = (function (){var method_table__21706__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
var prefer_table__21707__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
var method_cache__21708__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
var cached_hierarchy__21709__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
var hierarchy__21710__auto__ = cljs.core.get.call(null,cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"hierarchy","hierarchy",-1053470341),cljs.core.get_global_hierarchy.call(null));
return (new cljs.core.MultiFn(cljs.core.symbol.call(null,"unicycle.core","act"),((function (method_table__21706__auto__,prefer_table__21707__auto__,method_cache__21708__auto__,cached_hierarchy__21709__auto__,hierarchy__21710__auto__){
return (function (hot,_){
return cljs.core.first.call(null,new cljs.core.Keyword(null,"wheels","wheels",756478381).cljs$core$IFn$_invoke$arity$1(hot));
});})(method_table__21706__auto__,prefer_table__21707__auto__,method_cache__21708__auto__,cached_hierarchy__21709__auto__,hierarchy__21710__auto__))
,new cljs.core.Keyword(null,"default","default",-1987822328),hierarchy__21710__auto__,method_table__21706__auto__,prefer_table__21707__auto__,method_cache__21708__auto__,cached_hierarchy__21709__auto__));
})();
}
cljs.core._add_method.call(null,unicycle.core.act,new cljs.core.Keyword(null,"uni","uni",-1194876440),(function (auto,uni){
return cljs.core.map.call(null,common.math.constrain,uni,new cljs.core.Keyword(null,"engine","engine",1459054265).cljs$core$IFn$_invoke$arity$1(auto));
}));
cljs.core._add_method.call(null,unicycle.core.act,new cljs.core.Keyword(null,"car","car",-1555651612),(function (auto,car){
return cljs.core.map.call(null,common.math.constrain,car,new cljs.core.Keyword(null,"engine","engine",1459054265).cljs$core$IFn$_invoke$arity$1(auto));
}));
cljs.core._add_method.call(null,unicycle.core.act,new cljs.core.Keyword(null,"dff","dff",-1904902866),(function (p__49965,dff){
var map__49966 = p__49965;
var map__49966__$1 = ((((!((map__49966 == null)))?((((map__49966.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__49966.cljs$core$ISeq$)))?true:false):false))?cljs.core.apply.call(null,cljs.core.hash_map,map__49966):map__49966);
var eng = cljs.core.get.call(null,map__49966__$1,new cljs.core.Keyword(null,"engine","engine",1459054265));
return common.math.upper_bound.call(null,dff,clojure.core.matrix.operators._STAR_.call(null,cljs.core.apply.call(null,common.math._SLASH_,eng),cljs.core.count.call(null,eng)));
}));
unicycle.core.uni_sym = (function unicycle$core$uni_sym(p__49968,p__49969){
var map__49975 = p__49968;
var map__49975__$1 = ((((!((map__49975 == null)))?((((map__49975.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__49975.cljs$core$ISeq$)))?true:false):false))?cljs.core.apply.call(null,cljs.core.hash_map,map__49975):map__49975);
var it = map__49975__$1;
var yaw = cljs.core.get.call(null,map__49975__$1,new cljs.core.Keyword(null,"yaw","yaw",-1791898389));
var pos = cljs.core.get.call(null,map__49975__$1,new cljs.core.Keyword(null,"pos","pos",-864607220));
var vec__49976 = p__49969;
var v = cljs.core.nth.call(null,vec__49976,(0),null);
var w = cljs.core.nth.call(null,vec__49976,(1),null);
var Δyaw = clojure.core.matrix.operators._STAR_.call(null,w,common.math.dt);
var yaw_STAR_ = clojure.core.matrix.operators._PLUS_.call(null,clojure.core.matrix.operators._STAR_.call(null,Δyaw,0.5),yaw);
var Δpos = new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [clojure.core.matrix.operators._STAR_.call(null,v,common.math.dt,clojure.core.matrix.cos.call(null,yaw_STAR_)),clojure.core.matrix.operators._STAR_.call(null,v,common.math.dt,clojure.core.matrix.sin.call(null,yaw_STAR_)),(0)], null);
return cljs.core.update.call(null,cljs.core.update.call(null,it,new cljs.core.Keyword(null,"pos","pos",-864607220),clojure.core.matrix.operators._PLUS_,Δpos),new cljs.core.Keyword(null,"yaw","yaw",-1791898389),clojure.core.matrix.operators._PLUS_,Δyaw);
});
cljs.spec.def_impl.call(null,new cljs.core.Symbol("unicycle.core","uni-sym","unicycle.core/uni-sym",2021000817,null),cljs.core.list(new cljs.core.Symbol("cljs.spec","fspec","cljs.spec/fspec",982220571,null),new cljs.core.Keyword(null,"args","args",1315556576),cljs.core.list(new cljs.core.Symbol("cljs.spec","cat","cljs.spec/cat",850003863,null),new cljs.core.Keyword(null,"transform","transform",1381301764),new cljs.core.Keyword("unicycle.core","body","unicycle.core/body",1626002310),new cljs.core.Keyword(null,"driver","driver",1515263546),cljs.core.list(new cljs.core.Symbol("cljs.spec","spec","cljs.spec/spec",775251713,null),new cljs.core.Keyword("unicycle.core","uni","unicycle.core/uni",468119805))),new cljs.core.Keyword(null,"ret","ret",-468222814),new cljs.core.Keyword("unicycle.core","body","unicycle.core/body",1626002310)),cljs.spec.fspec_impl.call(null,cljs.spec.spec_impl.call(null,cljs.core.list(new cljs.core.Symbol("cljs.spec","cat","cljs.spec/cat",850003863,null),new cljs.core.Keyword(null,"transform","transform",1381301764),new cljs.core.Keyword("unicycle.core","body","unicycle.core/body",1626002310),new cljs.core.Keyword(null,"driver","driver",1515263546),cljs.core.list(new cljs.core.Symbol("cljs.spec","spec","cljs.spec/spec",775251713,null),new cljs.core.Keyword("unicycle.core","uni","unicycle.core/uni",468119805))),cljs.spec.cat_impl.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"transform","transform",1381301764),new cljs.core.Keyword(null,"driver","driver",1515263546)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("unicycle.core","body","unicycle.core/body",1626002310),cljs.spec.spec_impl.call(null,new cljs.core.Keyword("unicycle.core","uni","unicycle.core/uni",468119805),new cljs.core.Keyword("unicycle.core","uni","unicycle.core/uni",468119805),null,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("unicycle.core","body","unicycle.core/body",1626002310),cljs.core.list(new cljs.core.Symbol("cljs.spec","spec","cljs.spec/spec",775251713,null),new cljs.core.Keyword("unicycle.core","uni","unicycle.core/uni",468119805))], null)),null,null),cljs.core.list(new cljs.core.Symbol("cljs.spec","cat","cljs.spec/cat",850003863,null),new cljs.core.Keyword(null,"transform","transform",1381301764),new cljs.core.Keyword("unicycle.core","body","unicycle.core/body",1626002310),new cljs.core.Keyword(null,"driver","driver",1515263546),cljs.core.list(new cljs.core.Symbol("cljs.spec","spec","cljs.spec/spec",775251713,null),new cljs.core.Keyword("unicycle.core","uni","unicycle.core/uni",468119805))),cljs.spec.spec_impl.call(null,new cljs.core.Keyword("unicycle.core","body","unicycle.core/body",1626002310),new cljs.core.Keyword("unicycle.core","body","unicycle.core/body",1626002310),null,null),new cljs.core.Keyword("unicycle.core","body","unicycle.core/body",1626002310),null,null,null));
if(typeof unicycle.core.sym !== 'undefined'){
} else {
unicycle.core.sym = (function (){var method_table__21706__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
var prefer_table__21707__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
var method_cache__21708__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
var cached_hierarchy__21709__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
var hierarchy__21710__auto__ = cljs.core.get.call(null,cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"hierarchy","hierarchy",-1053470341),cljs.core.get_global_hierarchy.call(null));
return (new cljs.core.MultiFn(cljs.core.symbol.call(null,"unicycle.core","sym"),((function (method_table__21706__auto__,prefer_table__21707__auto__,method_cache__21708__auto__,cached_hierarchy__21709__auto__,hierarchy__21710__auto__){
return (function (hot,_){
return cljs.core.first.call(null,new cljs.core.Keyword(null,"wheels","wheels",756478381).cljs$core$IFn$_invoke$arity$1(hot));
});})(method_table__21706__auto__,prefer_table__21707__auto__,method_cache__21708__auto__,cached_hierarchy__21709__auto__,hierarchy__21710__auto__))
,new cljs.core.Keyword(null,"default","default",-1987822328),hierarchy__21710__auto__,method_table__21706__auto__,prefer_table__21707__auto__,method_cache__21708__auto__,cached_hierarchy__21709__auto__));
})();
}
cljs.core._add_method.call(null,unicycle.core.sym,new cljs.core.Keyword(null,"uni","uni",-1194876440),(function (auto,uni){
return unicycle.core.uni_sym.call(null,auto,uni);
}));
cljs.core._add_method.call(null,unicycle.core.sym,new cljs.core.Keyword(null,"dff","dff",-1904902866),(function (auto,dff){
return unicycle.core.uni_sym.call(null,auto,clojure.core.matrix.mmul.call(null,unicycle.core.dff__GT_uni.call(null,cljs.core.nth.call(null,new cljs.core.Keyword(null,"wheels","wheels",756478381).cljs$core$IFn$_invoke$arity$1(auto),(1))),dff));
}));
cljs.core._add_method.call(null,unicycle.core.sym,new cljs.core.Keyword(null,"car","car",-1555651612),(function (p__49980,p__49981){
var map__49982 = p__49980;
var map__49982__$1 = ((((!((map__49982 == null)))?((((map__49982.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__49982.cljs$core$ISeq$)))?true:false):false))?cljs.core.apply.call(null,cljs.core.hash_map,map__49982):map__49982);
var it = map__49982__$1;
var vec__49983 = cljs.core.get.call(null,map__49982__$1,new cljs.core.Keyword(null,"wheels","wheels",756478381));
var _ = cljs.core.nth.call(null,vec__49983,(0),null);
var l = cljs.core.nth.call(null,vec__49983,(1),null);
var δ = cljs.core.nth.call(null,vec__49983,(2),null);
var vec__49986 = p__49981;
var υ = cljs.core.nth.call(null,vec__49986,(0),null);
var s = cljs.core.nth.call(null,vec__49986,(1),null);
var Δδ = clojure.core.matrix.operators._.call(null,common.math.constrain.call(null,s,common.math.π_COLON_6),δ);
var δ_STAR_ = clojure.core.matrix.operators._PLUS_.call(null,clojure.core.matrix.operators._STAR_.call(null,Δδ,0.5),δ);
return unicycle.core.uni_sym.call(null,cljs.core.update_in.call(null,it,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"wheels","wheels",756478381),(2)], null),clojure.core.matrix.operators._PLUS_,Δδ),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [υ,clojure.core.matrix.operators._STAR_.call(null,υ,clojure.core.matrix.operators._SLASH_.call(null,clojure.core.matrix.tan.call(null,δ_STAR_),l))], null));
}));
unicycle.core.plan_PLUS_sym = (function unicycle$core$plan_PLUS_sym(auto,p__49990){
var vec__49994 = p__49990;
var seq__49995 = cljs.core.seq.call(null,vec__49994);
var first__49996 = cljs.core.first.call(null,seq__49995);
var seq__49995__$1 = cljs.core.next.call(null,seq__49995);
var cmd = first__49996;
var pos = seq__49995__$1;
return unicycle.core.sym.call(null,auto,unicycle.core.act.call(null,auto,unicycle.core.plan.call(null,auto,cljs.core.cons.call(null,cmd,common.math.detour.call(null,pos,auto)))));
});

//# sourceMappingURL=core.js.map